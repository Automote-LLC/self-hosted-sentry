# Railway configuration for Self-Hosted Sentry
# This file configures Railway to deploy Sentry using Docker Compose

[build]
# Railway will use Docker Compose automatically when it detects docker-compose.yml
# Change to "dockerfile" if you want to use the Dockerfile instead
builder = "dockerfile"

[deploy]
# The Dockerfile's entrypoint handles running install.sh then docker compose up --wait
# No need to specify startCommand here - the Dockerfile entrypoint handles everything
# startCommand is handled by the Dockerfile's ENTRYPOINT

# Health check configuration
# Railway will check if the service is responding
healthcheckPath = "/"
healthcheckTimeout = 300

# Restart policy
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10
